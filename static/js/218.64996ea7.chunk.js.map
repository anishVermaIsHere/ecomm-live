{"version":3,"file":"static/js/218.64996ea7.chunk.js","mappings":"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","sources":["webpack://eStore/./src/assets/styles/common/Brdcrb.module.css?6c98","components/common/Breadcrumbs.js","features/products/presentation/components/products/ProductCategory.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"brdcrmb\":\"Brdcrb_brdcrmb__zBj6J\",\"navigator\":\"Brdcrb_navigator__WW-qd\",\"active\":\"Brdcrb_active__Uw1w2\"};","import React,{useState,useEffect} from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport brd from '../../assets/styles/common/Brdcrb.module.css';\r\nimport {nanoid} from 'nanoid';\r\n\r\nconst Breadcrumbs=({link})=>{\r\n  const [navLink,setNavLink]=useState([]);\r\n\r\n  useEffect(()=>{\r\n    const path=link.pathname.split('/');\r\n   const updatedPath= path.map((p)=>p.replace('%20',' '));\r\n      // const string=substring.replace(/\\w\\S*/g, function(str){return str.charAt(0).toUpperCase() + str.substr(1).toLowerCase();});\r\n   setNavLink(updatedPath.slice(1));\r\n    return ()=>{}\r\n  },[link])\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className={`${brd.navigator} mb-3`} aria-label=\"breadcrumb\">\r\n        <ol className={`breadcrumb ${brd.brdcrmb}`}>\r\n          <li className={`breadcrumb-item ${brd.active}`}>\r\n            <NavLink to=\"/\">Home</NavLink>\r\n          </li>\r\n          {\r\n            navLink.map((link,index)=>{\r\n              return(\r\n                navLink[navLink.length-1] == link? \r\n                <li className='breadcrumb-item' key={nanoid()}>\r\n                  <span style={{textTransform:'capitalize', fontSize:'0.8rem',cursor:'default'}}>{link}</span>\r\n                </li>\r\n              :\r\n              <li className={`breadcrumb-item ${brd.active}`} key={nanoid()}>\r\n                <NavLink to={`/${link}`} style={{textTransform:'capitalize'}}>\r\n                  {link}\r\n                </NavLink>\r\n              </li>\r\n              )\r\n            }) \r\n          }\r\n        </ol>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Breadcrumbs;","import React, { useState, useEffect} from 'react'\r\nimport { nanoid } from 'nanoid';\r\nimport {useLocation, useParams} from 'react-router-dom';\r\nimport Loader from '../../../../../utils/widgets/Loader';\r\nimport Breadcrumbs from '../../../../../components/common/Breadcrumbs';\r\nimport PaginationNav from './PaginationNav';\r\nimport ProductCard from './ProductCard';\r\nimport FilterSection from './FilterSection';\r\nimport {filterRatings} from '../../../../../utils/constants/constant-data';\r\nimport { categoriseProducts, renderProducts} from '../../../../../utils/services/reducer/filter/filter-slice';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getProductByCategory } from '../../../../../utils/services/clientapis/api';\r\n\r\n\r\n\r\n const ProductCategory = () => {\r\n  const url=useLocation();\r\n  const params=useParams();\r\n  let category=params['category'];\r\n  category= category.replace(/\\w\\S*/g, (str)=>str.charAt(0).toUpperCase() + str.substr(1).toLowerCase());\r\n\r\n  // all states\r\n  const [productTypes,setProductTypes]=useState([]);\r\n  const[ratings,setRatings]=useState(filterRatings);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [productsPerPage] = useState(12);\r\n  const productState=useSelector(state=>state.filterSlice.products);\r\n  const loading=useSelector(state=>state.filterSlice.loading);\r\n  let dispatch=useDispatch();\r\n\r\n\r\n // to pagination of products\r\n const indexOfLastProds=productsPerPage*currentPage;\r\n const indexOfFirstProds=indexOfLastProds-productsPerPage;\r\n  const sliceProducts=productState.slice(indexOfFirstProds,indexOfLastProds);\r\n  \r\n\r\n  const showProducts = () => {\r\n   return productState.length==0 ?\r\n   <div className='d-flex align-items-center m-auto' style={{minHeight:'80vh'}}> \r\n    <h4 className='ml-2'>No Products</h4> \r\n   </div>\r\n   :\r\n    sliceProducts.map((product) => <ProductCard index={nanoid()} item={product} /> )\r\n  }\r\n\r\n\r\n  // to change the pages\r\n  const paginate=(pageNum)=>{\r\n    setCurrentPage(pageNum);\r\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' }); \r\n  };\r\n\r\n  // to handle rating checkboxes\r\n  const handleCheckbox=(id)=>{\r\n    let selectedTypes=productTypes.map(item=>item.id===id ? {...item,checked:!item.checked} : item)\r\n    setProductTypes(selectedTypes);\r\n  }\r\n\r\n  const handleRatings=(id)=>{\r\n    const selectedRating=ratings.map(item=>item.id===id?{...item,selected:!item.selected}:{...item,selected:false});\r\n    setRatings(selectedRating);\r\n  }\r\n\r\n  const handleFilters= async ()=>{\r\n    \r\n    const response=await getProductByCategory(category);\r\n    let updated=response.data;\r\n  \r\n    let rated=ratings.filter(item=>item.selected).map(item=>item.value);\r\n    if(rated.length) {\r\n      updated=updated.filter(item=>item.rating.rate>=Math.trunc(rated[0]));\r\n    }\r\n    let checked=productTypes.filter(item=>item.checked).map(item=>item.value);\r\n    if(checked.length){\r\n        updated=updated.filter(item=>checked.includes(item.type));\r\n    }\r\n    dispatch(renderProducts(updated));\r\n\r\n  }\r\n\r\n\r\n  useEffect(async() => {\r\n    dispatch(categoriseProducts(category));\r\n   const response=await getProductByCategory(category);\r\n    const types=[...new Set(response.data.map(item=>item.type))];\r\n    setCurrentPage(1);\r\n    let prodTypes=[];\r\n    types.map((item,index)=>{\r\n        return prodTypes.push({\r\n            label:item,\r\n            value:item,\r\n            id:index+1,\r\n            checked:false\r\n        });\r\n        });\r\n      setProductTypes(prodTypes);\r\n\r\n   return ()=>{}\r\n\r\n  },[category]);\r\n\r\n\r\n\r\n  // to handle filters effects\r\n  useEffect(()=>{\r\n    handleFilters();\r\n   return ()=>{}\r\n\r\n  },[productTypes,ratings])\r\n\r\n    return loading ? <Loader /> :\r\n    <>\r\n      <div className='col-xl-2 col-lg-3 col-md-12'>\r\n        <FilterSection \r\n        handleRatings={handleRatings} \r\n        handleTypes={handleCheckbox}\r\n        ratingLabels={ratings} \r\n        typesLabels={productTypes}\r\n        category={category}\r\n        handleProducts={getProductByCategory}\r\n        />\r\n\r\n      </div>\r\n\r\n      <div className='col-xl-8 col-lg-9 col-md-12'>\r\n        {sliceProducts.length!=0?<div className='col-lg-12'>\r\n            <Breadcrumbs link={url}/>\r\n          </div>:''}\r\n        <div className='row'>\r\n          {showProducts()}\r\n        </div>\r\n        <div className='mt-5'>\r\n          {productState.length<=productsPerPage?\r\n              \"\"\r\n              :\r\n              <PaginationNav \r\n              currentPage={currentPage}\r\n              productsPerPage={productsPerPage}\r\n              paginate={paginate}\r\n              totalProducts={productState.length}\r\n              />\r\n              }\r\n          </div>\r\n      </div>\r\n    </>\r\n}\r\n\r\nexport default ProductCategory;\r\n"],"names":["_ref","link","_useState","useState","_useState2","_slicedToArray","navLink","setNavLink","useEffect","updatedPath","pathname","split","map","p","replace","slice","_jsx","_Fragment","children","className","concat","brd","_jsxs","NavLink","to","index","length","style","textTransform","fontSize","cursor","nanoid","url","useLocation","category","useParams","str","charAt","toUpperCase","substr","toLowerCase","productTypes","setProductTypes","_useState3","filterRatings","_useState4","ratings","setRatings","_useState5","_useState6","currentPage","setCurrentPage","_useState7","productsPerPage","productState","useSelector","state","filterSlice","products","loading","dispatch","useDispatch","indexOfLastProds","indexOfFirstProds","sliceProducts","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","response","types","prodTypes","wrap","_context2","prev","next","categoriseProducts","getProductByCategory","sent","_toConsumableArray","Set","data","item","type","push","label","value","id","checked","abrupt","stop","_callee","updated","rated","_context","filter","selected","rating","rate","Math","trunc","includes","renderProducts","apply","arguments","handleFilters","Loader","FilterSection","handleRatings","selectedRating","_objectSpread","handleTypes","selectedTypes","ratingLabels","typesLabels","handleProducts","Breadcrumbs","minHeight","product","ProductCard","PaginationNav","paginate","pageNum","window","scrollTo","top","left","behavior","totalProducts"],"sourceRoot":""}